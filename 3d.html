<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CalcPro 3D Algorithm</title>
    <style>
        body { margin: 0; background: #000; overflow: hidden; font-family: monospace; }
        canvas { display: block; }
        .code-overlay {
            position: absolute; top: 10px; left: 10px;
            color: #00ff88; font-size: 12px; pointer-events: none;
        }
    </style>
</head>
<body>

<div class="code-overlay">
    <span style="color:#ff79c6;">class</span> <span style="color:#8be9fd;">Engine3D</span> {<br>
    &nbsp;&nbsp;render: <span style="color:#f1fa8c;">"ALGO_MATH_SOLID"</span><br>
    }
</div>

<canvas id="canvas3d"></canvas>

<script>
    const canvas = document.getElementById('canvas3d');
    const ctx = canvas.getContext('2d');

    let width, height;
    let angle = 0;

    // 1. LES DONNÉES : Un cube est une liste de points (x, y, z)
    const points = [
        {x: -1, y: -1, z:  1}, {x:  1, y: -1, z:  1},
        {x:  1, y:  1, z:  1}, {x: -1, y:  1, z:  1},
        {x: -1, y: -1, z: -1}, {x:  1, y: -1, z: -1},
        {x:  1, y:  1, z: -1}, {x: -1, y:  1, z: -1}
    ];

    // Les connexions entre les points pour former les lignes
    const links = [
        [0, 1], [1, 2], [2, 3], [3, 0], // Face avant
        [4, 5], [5, 6], [6, 7], [7, 4], // Face arrière
        [0, 4], [1, 5], [2, 6], [3, 7]  // Côtés
    ];

    function resize() {
        width = canvas.width = window.innerWidth;
        height = canvas.height = window.innerHeight;
    }

    function draw() {
        ctx.fillStyle = '#000';
        ctx.fillRect(0, 0, width, height);

        angle += 0.02; // Vitesse de rotation

        // 2. L'ALGORITHME DE PROJECTION
        const projectedPoints = points.map(p => {
            // Rotation sur l'axe Y (Trigonométrie !)
            let x = p.x * Math.cos(angle) - p.z * Math.sin(angle);
            let z = p.x * Math.sin(angle) + p.z * Math.cos(angle);
            let y = p.y;

            // Rotation sur l'axe X
            let tempY = y * Math.cos(angle * 0.5) - z * Math.sin(angle * 0.5);
            z = y * Math.sin(angle * 0.5) + z * Math.cos(angle * 0.5);
            y = tempY;

            // Transformation 3D -> 2D (Perspective)
            let zoom = 400;
            let perspective = zoom / (zoom + z * 100);
            return {
                x: x * 100 * perspective + width / 2,
                y: y * 100 * perspective + height / 2
            };
        });

        // 3. LE DESSIN
        ctx.strokeStyle = '#00ff88';
        ctx.lineWidth = 2;
        ctx.shadowBlur = 15;
        ctx.shadowColor = '#00ff88';

        links.forEach(link => {
            const p1 = projectedPoints[link[0]];
            const p2 = projectedPoints[link[1]];
            ctx.beginPath();
            ctx.moveTo(p1.x, p1.y);
            ctx.lineTo(p2.x, p2.y);
            ctx.stroke();
        });

        requestAnimationFrame(draw);
    }

    window.addEventListener('resize', resize);
    resize();
    draw();
</script>

</body>
</html>
