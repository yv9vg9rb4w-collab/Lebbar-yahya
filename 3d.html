<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>CalcPro â€“ Calculatrice 3D XYZ</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  background:#020617;
  color:white;
  font-family:Arial, sans-serif;
}
h1{
  text-align:center;
  color:#00ffcc;
  margin:10px;
}
.toolbar{
  display:flex;
  gap:10px;
  justify-content:center;
  flex-wrap:wrap;
}
button,input{
  padding:10px;
  border-radius:8px;
  border:none;
  font-size:14px;
}
button{
  background:#2563eb;
  color:white;
  cursor:pointer;
}
#info{
  text-align:center;
  color:#00ffcc;
  margin:8px;
}
#scene{
  width:100%;
  height:75vh;
}
</style>
</head>

<body>

<h1>ðŸ§­ Calculatrice 3D XYZ â€“ CalcPro</h1>

<div class="toolbar">
  <input id="x" type="number" placeholder="X">
  <input id="y" type="number" placeholder="Y">
  <input id="z" type="number" placeholder="Z">
  <button id="add">Ajouter Point</button>
</div>

<div id="info">x=0 | y=0 | z=0</div>
<div id="scene"></div>

<script type="module">
import * as THREE from "https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.module.js";
import { OrbitControls } from "https://cdn.jsdelivr.net/npm/three@0.152.2/examples/jsm/controls/OrbitControls.js";

const container = document.getElementById("scene");

// SCENE
const scene = new THREE.Scene();
scene.background = new THREE.Color(0x020617);

// CAMERA
const camera = new THREE.PerspectiveCamera(
  75,
  container.clientWidth / container.clientHeight,
  0.1,
  1000
);
camera.position.set(12,12,12);

// RENDERER
const renderer = new THREE.WebGLRenderer({antialias:true});
renderer.setSize(container.clientWidth, container.clientHeight);
container.appendChild(renderer.domElement);

// CONTROLS
const controls = new OrbitControls(camera, renderer.domElement);
controls.enableDamping = true;

// LIGHT
scene.add(new THREE.AmbientLight(0xffffff,0.8));

// AXES + GRILLES
const axes = new THREE.AxesHelper(20);
axes.material.linewidth = 4;
scene.add(axes);
scene.add(new THREE.GridHelper(20,20));

// POINTS
const info = document.getElementById("info");

document.getElementById("add").onclick = ()=>{
  const x = parseFloat(document.getElementById("x").value)||0;
  const y = parseFloat(document.getElementById("y").value)||0;
  const z = parseFloat(document.getElementById("z").value)||0;

  const geo = new THREE.SphereGeometry(0.3,16,16);
  const mat = new THREE.MeshStandardMaterial({color:0xffeb3b});
  const p = new THREE.Mesh(geo,mat);
  p.position.set(x,y,z);
  scene.add(p);

  info.innerText = `x=${x} | y=${y} | z=${z}`;
};

// ANIMATION
function animate(){
  requestAnimationFrame(animate);
  controls.update();
  renderer.render(scene,camera);
}
animate();

// RESIZE
window.addEventListener("resize",()=>{
  camera.aspect = container.clientWidth / container.clientHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(container.clientWidth, container.clientHeight);
});
</script>

</body>
</html>
