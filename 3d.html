<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CalcPro - 3D Engine</title>
    <style>
        body { margin: 0; background: #000; color: #00ffcc; font-family: 'Courier New', monospace; overflow: hidden; }
        canvas { display: block; }
        #interface { position: absolute; top: 20px; left: 20px; border-left: 3px solid #00ffcc; padding-left: 15px; pointer-events: none; }
        .btn { position: absolute; bottom: 25px; left: 25px; background: #00ffcc; color: #000; padding: 12px 20px; 
                text-decoration: none; font-weight: bold; border-radius: 4px; box-shadow: 0 0 10px #00ffcc; }
    </style>
</head>
<body>

    <div id="interface">
        <div style="font-size: 1.2em; letter-spacing: 2px;">CALC_PRO_3D</div>
        <div style="color: #555;">ROTATION_ACTIVE: TRUE</div>
    </div>

    <a href="index.html" class="btn">⬅ MENU</a>

    <canvas id="renderCanvas"></canvas>

    <script>
        const canvas = document.getElementById('renderCanvas');
        const ctx = canvas.getContext('2d');
        let width, height;

        // Points du cube (X, Y, Z)
        let points = [
            {x: -1, y: -1, z: 1}, {x: 1, y: -1, z: 1}, {x: 1, y: 1, z: 1}, {x: -1, y: 1, z: 1},
            {x: -1, y: -1, z: -1}, {x: 1, y: -1, z: -1}, {x: 1, y: 1, z: -1}, {x: -1, y: 1, z: -1}
        ];

        // Connexions entre les points pour former les lignes
        const links = [
            [0,1], [1,2], [2,3], [3,0], // Face avant
            [4,5], [5,6], [6,7], [7,4], // Face arrière
            [0,4], [1,5], [2,6], [3,7]  // Côtés
        ];

        let angle = 0;

        function resize() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
        }

        function project(p) {
            // Rotation sur 2 axes (Y et X)
            let x = p.x * Math.cos(angle) - p.z * Math.sin(angle);
            let z = p.x * Math.sin(angle) + p.z * Math.cos(angle);
            let y = p.y * Math.cos(angle * 0.5) - z * Math.sin(angle * 0.5);
            z = p.y * Math.sin(angle * 0.5) + z * Math.cos(angle * 0.5);

            // Projection perspective
            const perspective = 400 / (z + 4);
            return {
                x: x * perspective * 100 + width / 2,
                y: y * perspective * 100 + height / 2
            };
        }

        function draw() {
            ctx.fillStyle = "black";
            ctx.fillRect(0, 0, width, height);
            
            angle += 0.02; // Vitesse de rotation
            ctx.strokeStyle = "#00ffcc";
            ctx.lineWidth = 2;
            ctx.lineCap = "round";

            // Dessiner les lignes
            links.forEach(link => {
                const p1 = project(points[link[0]]);
                const p2 = project(points[link[1]]);
                
                ctx.beginPath();
                ctx.moveTo(p1.x, p1.y);
                ctx.lineTo(p2.x, p2.y);
                ctx.stroke();

                // Ajouter un petit point aux sommets
                ctx.fillStyle = "#fff";
                ctx.fillRect(p1.x-2, p1.y-2, 4, 4);
            });

            requestAnimationFrame(draw);
        }

        window.addEventListener('resize', resize);
        resize();
        draw();
    </script>
</body>
</html>
