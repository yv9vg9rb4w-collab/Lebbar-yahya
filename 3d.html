<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Calculatrice 3D XYZ â€“ CalcPro</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
html,body{
  margin:0;
  width:100%;
  height:100%;
  background:#020617;
  font-family:Arial, sans-serif;
  color:white;
}
h1{
  text-align:center;
  color:#00ffcc;
  margin:10px;
}
#ui{
  display:flex;
  justify-content:center;
  gap:10px;
  flex-wrap:wrap;
}
input,button{
  padding:10px;
  border-radius:8px;
  border:none;
  font-size:14px;
}
button{
  background:#2563eb;
  color:white;
  cursor:pointer;
}
#info{
  text-align:center;
  margin:8px;
  color:#00ffcc;
}
#scene{
  width:100vw;
  height:70vh;
}
</style>
</head>

<body>

<h1>ðŸ§­ Calculatrice 3D XYZ â€“ CalcPro</h1>

<div id="ui">
  <input id="x" type="number" placeholder="X">
  <input id="y" type="number" placeholder="Y">
  <input id="z" type="number" placeholder="Z">
  <button id="add">Ajouter point</button>
</div>

<div id="info">x=0 | y=0 | z=0</div>
<div id="scene"></div>

<script type="module">
import * as THREE from "https://unpkg.com/three@0.152.2/build/three.module.js";
import { OrbitControls } from "https://unpkg.com/three@0.152.2/examples/jsm/controls/OrbitControls.js";

// SCENE
const container = document.getElementById("scene");
const scene = new THREE.Scene();
scene.background = new THREE.Color(0x020617);

// CAMERA (CENTRÃ‰E)
const camera = new THREE.PerspectiveCamera(
  75,
  container.clientWidth / container.clientHeight,
  0.1,
  1000
);
camera.position.set(6,6,6);
camera.lookAt(0,0,0);

// RENDERER
const renderer = new THREE.WebGLRenderer({antialias:true});
renderer.setSize(container.clientWidth, container.clientHeight);
container.appendChild(renderer.domElement);

// CONTROLS
const controls = new OrbitControls(camera, renderer.domElement);
controls.enableDamping = true;

// LUMIÃˆRE
scene.add(new THREE.AmbientLight(0xffffff, 0.9));

// AXES XYZ (GROS ET VISIBLES)
const axes = new THREE.AxesHelper(5);
scene.add(axes);

// GRILLE XZ
scene.add(new THREE.GridHelper(10,10,0x00ffcc,0x003333));

// AJOUT DE POINT
const info = document.getElementById("info");

document.getElementById("add").onclick = ()=>{
  const x = Number(document.getElementById("x").value) || 2;
  const y = Number(document.getElementById("y").value) || 2;
  const z = Number(document.getElementById("z").value) || 2;

  console.log("Ajout point :", x, y, z);

  const geometry = new THREE.SphereGeometry(0.7, 32, 32);
  const material = new THREE.MeshBasicMaterial({ color: 0xffff00 });
  const point = new THREE.Mesh(geometry, material);

  point.position.set(x, y, z);
  scene.add(point);
};

  const x = parseFloat(document.getElementById("x").value)||0;
  const y = parseFloat(document.getElementById("y").value)||0;
  const z = parseFloat(document.getElementById("z").value)||0;

  const geo = new THREE.SphereGeometry(0.2,16,16);
  const mat = new THREE.MeshBasicMaterial({color:0xff0000});
  const point = new THREE.Mesh(geo, mat);
  point.position.set(x,y,z);
  scene.add(point);

  info.innerText = `x=${x} | y=${y} | z=${z}`;
};

// ANIMATION
function animate(){
  requestAnimationFrame(animate);
  controls.update();
  renderer.render(scene,camera);
}
animate();

// RESIZE
window.addEventListener("resize",()=>{
  camera.aspect = container.clientWidth / container.clientHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(container.clientWidth, container.clientHeight);
});
</script>

</body>
</html>
