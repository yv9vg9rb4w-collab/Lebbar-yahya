<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CalcPro Star Diamond</title>
    <style>
        body { margin: 0; overflow: hidden; background: #000; font-family: monospace; }
        canvas { display: block; }
        .ui {
            position: absolute; padding: 20px; color: #00ff88;
            text-shadow: 0 0 10px #00ff88; pointer-events: none;
        }
    </style>
</head>
<body>

    <div class="ui">
        MODE: POINT_CLOUD_V12<br>
        STATUS: RADIANT_GRID<br>
        CalcPro © Lebbar Yahya
    </div>

    <canvas id="c"></canvas>

    <script>
        const canvas = document.getElementById('c');
        const ctx = canvas.getContext('2d');
        let w, h, angleX = 0, angleY = 0;

        // Géométrie du Diamant (Points)
        const nodes = [
            [0, 1.5, 0], [1, 0, 1], [1, 0, -1], [-1, 0, -1], [-1, 0, 1],
            [0.5, -0.8, 0.5], [0.5, -0.8, -0.5], [-0.5, -0.8, -0.5], [-0.5, -0.8, 0.5],
            [0, -1.2, 0]
        ];

        // Connexions pour l'effet "Grille"
        const links = [
            [0,1],[0,2],[0,3],[0,4],[1,2],[2,3],[3,4],[4,1],
            [1,5],[2,6],[3,7],[4,8],[5,6],[6,7],[7,8],[8,5],[5,9],[6,9],[7,9],[8,9]
        ];

        function resize() {
            w = canvas.width = window.innerWidth;
            h = canvas.height = window.innerHeight;
        }

        function rotate(node, ax, ay) {
            let [x, y, z] = node;
            let nx = x * Math.cos(ay) - z * Math.sin(ay);
            let nz = x * Math.sin(ay) + z * Math.cos(ay);
            let ny = y * Math.cos(ax) - nz * Math.sin(ax);
            nz = y * Math.sin(ax) + nz * Math.cos(ax);
            return [nx, ny, nz];
        }

        function draw() {
            ctx.fillStyle = 'rgba(0, 0, 0, 0.2)'; // Effet de traînée (motion blur)
            ctx.fillRect(0, 0, w, h);

            angleX += 0.01;
            angleY += 0.015;

            const projected = nodes.map(n => {
                let r = rotate(n, angleX, angleY);
                let scale = w / (4 + r[2]);
                return [r[0] * scale + w/2, r[1] * scale + h/2];
            });

            // 1. Dessiner les lignes (La structure)
            ctx.beginPath();
            ctx.strokeStyle = 'rgba(0, 255, 136, 0.2)';
            ctx.lineWidth = 1;
            links.forEach(l => {
                ctx.moveTo(projected[l[0]][0], projected[l[0]][1]);
                ctx.lineTo(projected[l[1]][0], projected[l[1]][1]);
            });
            ctx.stroke();

            // 2. Dessiner les POINTS (Les étoiles)
            projected.forEach(p => {
                ctx.beginPath();
                ctx.arc(p[0], p[1], 3, 0, Math.PI * 2);
                
                // Lueur autour du point
                ctx.shadowBlur = 15;
                ctx.shadowColor = "#00ff88";
                ctx.fillStyle = "#fff";
                ctx.fill();
                ctx.shadowBlur = 0;
            });

            requestAnimationFrame(draw);
        }

        window.addEventListener('resize', resize);
        resize();
        draw();
    </script>
</body>
</html>
